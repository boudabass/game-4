version: '3.8'

services:
  web:
    image: ghcr.io/your-github-username/your-repo-name:latest
    container_name: dyad-app-web
    ports:
      - "3000:3000"
    volumes:
      # STOCKAGE DONNÉES (db.json - Scores & Métadonnées)
      - /mnt/share1/apps/gamesenior/data:/app/data
      
      # STOCKAGE FICHIERS (Jeux p5.js statiques)
      - /mnt/share1/apps/gamesenior/games:/app/public/games

    environment:
      NODE_ENV: production
      # Plus besoin de DATABASE_URL car on est en Lowdb pur
      # Les variables Supabase sont injectées via le .env ou l'UI Dyad

    restart: unless-stopped